% vim:ts=2:expandtab
% GIT Quick Reference Card
% Copyright (c) 2011 Jonas Petong.
% TeX Format - Based on VIM Quick Reference Card

% compile as 'pdftex qrcBash.tex'
% preamble%{{{
\overfullrule=0pt %supressing black boxes at eol
\def\versionnumber{1.0}  % Version of this reference card
\def\key#1{$\langle${\rm{\it#1\/}}$\rangle$}
\def\year{2014}
\def\month{Sep}
\def\version{v\versionnumber\ \month\ \year}

\def\shortcopyrightnotice{\smallskip
  \centerline{\smallrm \copyright\ \year\ Jonas Petong -
  Permissions on back. \version}}

\def\copyrightnotice{
\vfill \hrule\smallskip\begingroup\smallrm
\centerline{\version. Copyright \copyright\ \year\ Jonas Petong}

Permission is granted to make and distribute copies of this card provided
the copyright notice and this permission notice are preserved on all
copies. Send comments or corrections to Jonas Petong at:
$\langle$kaktuuus@gmx.de$\rangle$

\centerline{https://github.com/emzap79/latex/blob/master/qrcBash.tex}

This TeXfile is based on Gabriel B. Burcas git-qrc.tex

% \centerline{http://ebixio.com/ and http://github.com/gburca/git-qrc}

\endgroup}

% \pdfoutput=1
\pdfpageheight=21cm
% \pdfpagewidth=29.7cm
\pdfpagewidth=30.2cm

% Font definitions
\font\bigbf=cmbx12
\font\smallrm=cmr8
\font\smalltt=cmtt8
\font\tinyit=cmmi5

\def\title#1{\hfil{\bf #1}\hfil\par\vskip 2pt\hrule}
\def\section#1#2{\vskip 0.7cm {\bf#1}\vskip 1pt#2\vskip 5pt}
\def\subsection#1#2{\vskip 0.7cm {#1\/}\par\vskip 1pt\hrule\vskip 1pt#2\vskip 5pt}
\def\subsubsection#1{\vskip 0.7cm \hskip 1em {- #1\/}\par\vskip 1pt\vskip 1pt}

% Characters definitions
\def\\{\hfil\break}
\def\bs{$\backslash$}
\def\backspace{$\leftarrow$}
\def\ctrl{{\rm\char94}\kern-1pt}
\def\enter{$\hookleftarrow$}
\def\or{\thinspace{\tinyit{or}}\thinspace}
\def\key#1{$\langle${\rm{\it#1\/}}$\rangle$}
\def\rapos{\char125}
\def\lapos{\char123}
\def\bs{\char92}
\def\tild{\char126}
\def\lbracket{[}
\def\rbracket{]}

% Three columns definitions
\parindent 0pt
\nopagenumbers
\hoffset=-1.56cm
\voffset=-1.54cm
\newdimen\fullhsize
\fullhsize=27.9cm
\hsize=8.5cm
\vsize=19cm
\def\fullline{\hbox to\fullhsize}
\let\lr=L
\newbox\leftcolumn
\newbox\midcolumn
\output={
  \if L\lr
    \global\setbox\leftcolumn=\columnbox
    \global\let\lr=M
  \else\if M\lr
    \global\setbox\midcolumn=\columnbox
    \global\let\lr=R
  \else
    \tripleformat
    \global\let\lr=L
  \fi\fi
  \ifnum\outputpenalty>-20000
  \else
    \dosupereject
  \fi}
\def\tripleformat{
  \shipout\vbox{\fullline{\box\leftcolumn\hfil\box\midcolumn\hfil\columnbox}}
  \advancepageno}
\def\columnbox{\leftline{\pagebody}}

% cmd optimizations%{{{
\def\cmdFooBar#1{{\tt#1}\null}	%\null so not an abbrev even if period follows
%}}}
% A short command%{{{
\def\cmd#1#2{
  \noindent
  \hbox to \hsize {% This comment is needed to remove space at start of line
    \vtop{
      \hbox to 2.4cm {
        \noindent{#1}\dotfill
      }
      %\hrule
    }% This comment is needed to remove space
    \hfil	% absorb extra space b/w columns
    \vtop{
      \hsize=5.90cm
      \hbox{\hfuzz = 25pt \vtop{%The \hfuzz setting specifies the maximum amount
              %of box-overflow before a warning message will be issued.
      % Uncomment line below to right-align description
      %\leftskip=0cm plus 150fil
      {#2}
      }}
      %\hrule
    }
  }
  %\hrule
  \par
  \vskip 0.14cm
}%}}}
% A long command%{{{
\def\cmdL#1#2{
  \hsize=8.5cm
  \vbox {
    \hbox{
        {#1}\hfil
    }%
    %\vskip -0.2cm % adjusts space b/w command & description
    \hskip 2.5cm  % indent for description
    \hbox to 5.9cm {%
      \hfuzz = 5pt
      % Use the first one when right-aligned
      %\vrule\hskip -0.05cm
      %\vrule\hskip 0.05cm
      \hfil
      \hsize=5.9cm
      \vtop{
        %\hrule
        % Uncomment line below to right-align description
        %\leftskip=0cm plus 150fil
        {#2}
        }}
  }%
  %\hrule
  \par
  \vskip 0.14cm
}%}}}
% A example command%{{{
\def\cmdExample#1#2{
  \noindent
  \hbox to \hsize {% This comment is needed to remove space at start of line
    \vtop{
      \hbox to 2.2cm {
      % \hfuzz = 5pt
      \hskip 4pt
      \hfil
      %\hsize=5.9cm
      \noindent{\it#1}
      }
      %\hrule
    }% This comment is needed to remove space
    \hfil	% absorb extra space b/w columns
    \vtop{
      \hsize=5.90cm
      \hbox{\hfuzz = 15pt \vtop{
      % Uncomment line below to right-align description
      %\leftskip=0cm plus 150fil
      \it{#2}
      }}
      %\hrule
    }
  }
  %\hrule
  \par
  \vskip 1ex
}%}}}
% A option command%{{{
\def\cmdOpt#1#2{
  \noindent
  \hbox to \hsize {% This comment is needed to remove space at start of line
    \vtop{
      % \leftskip=0cm plus 150fil
        \hbox to 1.0cm {
      % \hfuzz = 5pt
      \hskip 10pt
      % \hfil
      % \hsize=3.9cm
      \noindent{\it#1}
      }
      %\hrule
    }% This comment is needed to remove space
    \hfil	% absorb extra space b/w columns
    \vtop{
      \hsize=5.90cm
      \hbox{\hfuzz = 15pt \vtop{
      % Uncomment line below to right-align description
      %\leftskip=0cm plus 150fil
      \it{#2}
      }}
      %\hrule
    }
  }
  %\hrule
  \par
  \vskip 0.14cm
}%}}}
% A operator command%{{{
\def\cmdOper#1#2{
  \noindent
  \hbox to \hsize {% This comment is needed to remove space at start of line
    \vtop{
      % \leftskip=0cm plus 150fil
        \hbox to 1.0cm {
      % \hfuzz = 5pt
      \hskip 30pt
      % \hfil
      % \hsize=3.9cm
      \noindent{#1}
      }
      %\hrule
    }% This comment is needed to remove space
    \hfil	% absorb extra space b/w columns
    \vtop{
      \hsize=5.90cm
      \hbox{\hfuzz = 15pt \vtop{
      % Uncomment line below to right-align description
      %\leftskip=0cm plus 150fil
      #2
      }}
      %\hrule
    }
  }
  %\hrule
  \par
  \vskip 0.14cm
}%}}}
%}}}
% card content%{{{
% Header%{{{
\title{BASH QUICK REFERENCE CARD}

\shortcopyrightnotice
%}}}
\section{Basic Operations}{}%{{{
\cmd{cd $path$}{change directory}
\cmdOper{..}{Move one folder up}
\cmdOper{-}{Change to last visited directory}
\cmdOper{\key{None}}{Change to homedir ($\sim$/)}
\cmd{mkdir $fold$}{create new folder in current $path$}
%}}}
\section{Movements}{For \key{esc} you can use whether \key{esc} or \key{alt}-key}%{{{
\cmd{\ctrl a\ \ctrl e}{jump to beginning/end of the line}
\cmd{\key{esc-f}\ \key{esc-b}}{jump one word forward/backward}
\cmd{\key{esc-d}\ \key{esc-$\leftarrow$}}{cut one word forward/backward}
\cmd{\ctrl w}{cut text backward until space}
\cmd{\ctrl u\ \ctrl k}{cut from current position to the beginning/end of line}
\cmd{\ctrl y}{paste most recently cut out text}
\cmd{\ctrl c}{cancel current command}
\cmd{\ctrl \#}{prepend hashtag on command, then jump to next line (... and reedit later)}
%}}}
\section{History}{You can clear your entire history with {\tt history -c}.}%{{{
\subsection{Shortcuts}{}
\cmd{\ctrl p}{Fetch the previous command from the history list}
% \cmd{\ctrl n}{Fetch the next command from the history list}
\cmd{\ctrl r}{Search history backward (incremental search)}
\cmd{\key{esc}\ .\ \ }{print last argument of prev command}
% \cmd{\ctrl r}{Search history backward for a command matching \it{string}}
% \cmd{\ctrl s}{Search history forward (incremental search)}
% \cmd{\ctrl s}{Search history forward for a command matching \it{string}}
\cmd{\key{esc-p}}{Search backward using non-incremental search}
\cmd{\key{esc-n}}{Search forward using non-incremental search}
\cmd{\key{esc-$<$}}{Move to the first line in the history}
\cmd{\key{esc-$>$}}{Move to the end of the history list (current entry)}
% \cmd{k}{Fetch the previous command from the history list}
% \cmd{j}{Fetch the next command from the history list}
% \cmd{n}{Repeat search in the same direction as previous}
% \cmd{N}{Repeat search in the opposite direction as previous}
% \cmd{G}{Move to the N-th history line}
% \cmdExample{15G}{move to $15$th line}
%}}}
\subsection{History-Commands}{example commmand is: {\tt echo foo bar}}%{{{
\cmd{!!}{runs previous executed command (also known as `bang bang')}
\cmdExample{sudo\ !!}{sudo echo foo}
\cmd{!$n$\ !-$n$}{executes command $n$/$n$th last command}
\cmd{!$c$\ !?$c$?}{runs last executed command, starting with/containing string or character $c$ (ending ? is optional)}
\cmdExample{!echo}{echo foo bar}
\cmdExample{!? sudo}{sudo echo foo}
\cmd{!:$d$}{executes first/last/$n$th/all arguments $arg$ of prev command (for meaning of designators $d$  see below!)}
\cmdExample{vim !sudo:*}{vim echo foo}
\cmd{!\#}{Refers to the entire command line typed so far}
%}}}
\subsection{Substitutions \& Replacements}{}%{{{
\cmd{\^{}$c$1\^{}$c$2\^{}}{Quick substitution. Repeats the last command, replacing $c$1 with $c$2}
\cmdL{$mod$s/old/new/}{Substitutes new for old (for meaning of modifiers $mod$ see below)}
%}}}
\subsubsection{Designators}%{{{
\cmdOper{0}{The zeroth (first) word in a line (usually command name)}
\cmdOper{n}{The $n$th word in a line}
\cmdOper{\^{}}{The first $arg$ (the second word) in a line}
\cmdOper{$\$$}{The last argument $arg$ in a line}
\cmdOper{\%}{The word matched by the most recent !?$c$? search}
\cmdOper{$m$-$n$}{A range of words from $m$ to $n$ (-$n$ is synonymous with 0-$n$)}
\cmdOper{*}{All $arg$'s}
\cmdOper{$m$*}{Synonymous with $m$-\$}
\cmdOper{$m$-}{from $arg$ $m$ to end}
%}}}
\subsubsection{Modifiers}%{{{
\cmdOper{h}{Removes a trailing pathname component, leaving the head}
\cmdOper{t}{Removes all leading pathname components, leaving the tail (filename in path)}
\cmdOper{r}{Removes a trailing suffix of the form .xxx, leaving the basename}
\cmdOper{e}{Removes all but the trailing suffix}
\cmdOper{p}{Prints the resulting command but does not execute it}
\cmdOper{q}{Quotes the substituted words, escaping further substitutions}
\cmdOper{m}{Quotes the substituted words, breaking them into words at blanks and newlines}
\cmdOper{\&}{Repeats the previous substitution}
\cmdOper{g}{Causes s/old/new/ or \& to be applied over the entire event line}
\cmdOper{G}{Apply the following `s' modifier once to each word in the event line.}
%}}}
\subsection{Variables}{append {\tt export <setting>=<value>} to your$\,\sim$/.bashrc}%{{{
\cmd{HISTFILE}{If set to /dev/null history file is rejected (Default:$\,\sim$/.bash\_history)}
\cmdL{HISTFILESIZE}{Controls how many history commands to keep in HISTFILE (Default: 500)}
\cmd{HISTSIZE}{Controls how many history commands to keep in the history list of current session (Default: 500)}
\cmd{HISTCONTROL}{Modality of how to save commands on the history list.}
\cmdOpt{ignorespace}{If the list of values includes ignorespace, lines which begin with a space character are not saved in the history list.}
\cmdOpt{ignoredups}{A value of ignoredups causes lines matching the previous history  entry  to  not  be saved.}
\cmdOpt{ignoreboth}{A value of ignoreboth is shorthand for ignorespace and ignoredups.}
\cmdOpt{erasedups}{A value of erasedups causes all previous lines matching the current line to be removed from the history list before that line is saved.}
\cmd{HISTIGNORE}{Controls which commands to ignore and not save to the history list.}
%}}}
\subsection{Shopt Option}{shopt options can be set by a \tt{shopt -s option} and can be unset by a \tt{shopt -u option} shell command.}
\cmd{histappend}{Setting the variable appends current session history to HISTFILE. Unsetting overwrites the file each time}
\cmd{histreedit}{If set, puts a failed history substitution back on the command line for re-editing}
\cmd{histverify}{If set, puts the command to be executed after a substitution on command line as if you had typed it}


%% Footer
\copyrightnotice

% Ending
\supereject
\if L\lr \else\null\vfill\eject\fi
\if L\lr \else\null\vfill\eject\fi
\bye

% EOF
